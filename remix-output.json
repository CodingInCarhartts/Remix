{
  "files": [
    {
      "relative_path": "",
      "extension": "rs",
      "content": "mod cli;\nmod comments;\nmod config;\nmod formatter;\nmod packer;\nmod remote;\nmod scanner;\nmod security;\nmod utils;\n\nuse anyhow::{Context, Result};\nuse clap::Parser;\nuse cli::Cli;\nuse console::style;\nuse env_logger::Env;\nuse indicatif::{ProgressBar, ProgressStyle};\nuse log::info;\nuse std::path::PathBuf;\n\n#[tokio::main]\nasync fn main() -> Result<()> {\n    \n    env_logger::Builder::from_env(Env::default().default_filter_or(\"info\")).init();\n\n    \n    let args: Vec<String> = std::env::args().collect();\n    let cli = if args.len() > 1 && args[1] == \"mix\" {\n        \n        let filtered_args: Vec<String> = args\n            .into_iter()\n            .enumerate()\n            .filter(|(i, arg)| *i != 1 || arg != \"mix\")\n            .map(|(_, arg)| arg)\n            .collect();\n        Cli::parse_from(filtered_args)\n    } else {\n        Cli::parse()\n    };\n\n    \n    let main_spinner = ProgressBar::new_spinner();\n    main_spinner.set_style(\n        ProgressStyle::default_spinner()\n            .template(\"{spinner:.cyan} {wide_msg}\")\n            .unwrap(),\n    );\n\n    main_spinner.set_message(format!(\"ðŸš€ {} starting...\", style(\"remix\").bold().green()));\n    main_spinner.tick();\n\n    \n    main_spinner.set_message(\"Loading configuration...\");\n    let config = if let Some(ref config_path) = cli.config {\n        config::load_config(config_path).context(format!(\n            \"Failed to load config from {}\",\n            config_path.display()\n        ))?\n    } else {\n        config::find_and_load_config().unwrap_or_default()\n    };\n\n    \n    if cli.init {\n        main_spinner.set_message(\"Initializing configuration...\");\n        config::init_config()?;\n        main_spinner.finish_with_message(format!(\n            \"{} Configuration initialized successfully\",\n            style(\"âœ“\").bold().green()\n        ));\n        return Ok(());\n    }\n\n    \n    let target_path = if let Some(path) = &cli.path {\n        PathBuf::from(path)\n    } else {\n        std::env::current_dir()?\n    };\n\n    main_spinner.set_message(format!(\n        \"Starting remix on {}\",\n        style(target_path.display()).cyan()\n    ));\n\n    info!(\"Starting remix on {}\", target_path.display());\n\n    \n    if let Some(remote_url) = &cli.remote {\n        let branch = cli\n            .remote_branch\n            .as_ref()\n            .map_or_else(|| \"main\".to_string(), |s| s.clone());\n        main_spinner.set_message(format!(\n            \"Processing remote repository: {} ({})\",\n            style(remote_url).cyan(),\n            style(&branch).cyan()\n        ));\n        info!(\"Processing remote repository: {} ({})\", remote_url, branch);\n\n        let temp_dir = remote::clone_repository(remote_url, &branch)\n            .context(\"Failed to clone remote repository\")?;\n\n        main_spinner.set_message(\"Processing repository...\");\n        let merged_config = config.merge_with_cli(&cli);\n        let result = packer::pack_repository(&temp_dir, &merged_config).await?;\n\n        main_spinner.set_message(\"Formatting output...\");\n        formatter::output_result(&result, &merged_config.output)?;\n    } else {\n        \n        main_spinner.set_message(format!(\n            \"Processing local repository: {}\",\n            style(target_path.display()).cyan()\n        ));\n        info!(\"Processing local repository: {}\", target_path.display());\n\n        main_spinner.set_message(\"Processing repository...\");\n        let merged_config = config.merge_with_cli(&cli);\n        let result = packer::pack_repository(&target_path, &merged_config).await?;\n\n        main_spinner.set_message(\"Formatting output...\");\n        formatter::output_result(&result, &merged_config.output)?;\n    }\n\n    main_spinner.finish_with_message(format!(\n        \"{} Repository packing completed successfully\",\n        style(\"âœ“\").bold().green()\n    ));\n    info!(\"Repository packing completed successfully\");\n    Ok(())\n}\n",
      "size": 4179,
      "is_binary": false
    }
  ],
  "summary": {
    "file_count": 1,
    "total_size": 4179,
    "directory_count": 0,
    "extensions": [
      "rs"
    ],
    "binary_file_count": 0
  },
  "instruction": "Please analyze this Rust codebase for performance optimizations and security vulnerabilities. Focus on the core logic in src/ and ignore test files unless they demonstrate important patterns.",
  "suspicious_files": null,
  "security_check_status": "CompletedNoFindings",
  "binary_files": []
}